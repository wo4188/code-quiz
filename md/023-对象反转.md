[2822. 对象反转 - 力扣（LeetCode）](https://leetcode.cn/problems/inversion-of-object/description/)



<h2 id="EC1bC">题目描述</h2>
给定一个对象 `obj`，返回一个反转的对象 `invertedObj`。

`invertedObj` 应该以 `obj` 的键作为值，以 `obj` 的值作为键。题目保证 `obj` 中的值仅为字符串。该函数应该处理重复值，也就是说，如果在 `obj` 中有多个具有相同值的键，那么 `invertedObj` 应该将该值映射到一个包含所有相应键的数组中。



```javascript
type Obj = Record<string, string> | Array<string>;
type invertObj = Record<string, string | string[]>;

function invertObject(obj: Obj): invertObj {
  const result: invertObj = {};

  for (let [k, v] of Object.entries(obj)) {
    // 未创建，初次赋值
    if (!Object.hasOwn(result, v)) {
      result[v] = k;
      continue;
    }

    const val = result[v];

    // 已创建，第二次赋值
    if (!Array.isArray(val)) {
      result[v] = [val, k]; // 追加，[字符串] ➡️ [数组]
      continue;
    }

    // 已创建，后续赋值
    val.push(k); 
  }

  return result;
};
```



<details class="lake-collapse"><summary id="uadd10fc9"><strong><em><span class="ne-text">输入输出示例</span></em></strong></summary><p id="ud86df498" class="ne-p"><span class="ne-text">示例 1：</span></p><pre data-language="plain" id="u1euH" class="ne-codeblock language-plain"><code>输入：obj = {&quot;a&quot;: &quot;1&quot;, &quot;b&quot;: &quot;2&quot;, &quot;c&quot;: &quot;3&quot;, &quot;d&quot;: &quot;4&quot;}
输出：invertedObj = {&quot;1&quot;: &quot;a&quot;, &quot;2&quot;: &quot;b&quot;, &quot;3&quot;: &quot;c&quot;, &quot;4&quot;: &quot;d&quot;}
解释：obj 中的键变成 invertedObj 中的值，而 obj 中的值变成 invertedObj 中的键。</code></pre><p id="u03e7512c" class="ne-p"><span class="ne-text">示例 2：</span></p><pre data-language="plain" id="V5VEX" class="ne-codeblock language-plain"><code>输入：obj = {&quot;a&quot;: &quot;1&quot;, &quot;b&quot;: &quot;2&quot;, &quot;c&quot;: &quot;2&quot;, &quot;d&quot;: &quot;4&quot;}
输出：invertedObj = {&quot;1&quot;: &quot;a&quot;, &quot;2&quot;: [&quot;b&quot;, &quot;c&quot;], &quot;4&quot;: &quot;d&quot;}
解释：在 obj 中有两个具有相同值的键，invertedObj 将该值映射到一个包含所有对应键的数组中。</code></pre><p id="u09b35b74" class="ne-p"><span class="ne-text">示例 3：</span></p><pre data-language="plain" id="PfZlV" class="ne-codeblock language-plain"><code>输入：obj = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;]
输出：invertedObj = {&quot;1&quot;: &quot;0&quot;, &quot;2&quot;: &quot;1&quot;, &quot;3&quot;: &quot;2&quot;, &quot;4&quot;: &quot;3&quot;}
解释：数组也是对象，因此数组已经转换为一个对象，obj 中的键（索引）变成了 invertedObj 中的值，而 obj 中的值变成了 invertedObj 中的键。</code></pre></details>
