[Function：length - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/length)

[闭包 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Closures)

[2632. 柯里化 - 力扣（LeetCode）](https://leetcode.cn/problems/curry/description/)



<h2 id="EC1bC">题目描述</h2>
请你编写一个函数，它接收一个其他的函数，并返回该函数的 柯里化 后的形式。

柯里化 函数的定义是接受与原函数相同数量或更少数量的参数，并返回另一个 柯里化 后的函数或与原函数相同的值。

实际上，当你调用原函数，如 `sum(1,2,3)` 时，它将调用 柯里化 函数的某个形式，如 `csum(1)(2)(3)`， `csum(1)(2,3)`， `csum(1,2)(3)`，或 `csum(1,2,3)` 。所有调用 柯里化 函数的方法都应该返回与原始函数相同的值。



```typescript
// 递归+闭包 版本
function curry(fn: Function): Function {
  let argArr = [];

  return function curried(...args) {
    argArr = [...argArr, ...args];

    if (argArr.length >= fn.length) {
      const result = fn(...argArr);
      argArr = []; // 显式重置闭包状态
      return result;
    }

    return curried;
  }
};

// 递归+参数拼接 版本
function curry(fn: Function): Function {

  return function curried(...args) {
    // 一个 Function 对象的 length 属性表示函数期望的参数个数，即形参的个数。
    // 这个数字不包括剩余参数，只包括在第一个具有默认值的参数之前的参数。
    if (args.length < fn.length) {
      return (...restArgs) => curried(...args, ...restArgs);
    }

    return fn(...args);
  }
};
```



<details class="lake-collapse"><summary id="u57d2d181"><em><strong><span class="ne-text">输入输出示例</span></strong></em></summary><p id="u371a31ff" class="ne-p"><span class="ne-text">示例 1：</span></p><pre data-language="plain" id="dj1AP" class="ne-codeblock language-plain"><code>输入：
fn = function sum(a, b, c) { return a + b + c; }
inputs = [[1],[2],[3]]
输出：6
解释：
执行的代码是：
const curriedSum = curry(fn);
curriedSum(1)(2)(3) === 6;
curriedSum(1)(2)(3) 应该返回像原函数 sum(1, 2, 3) 一样的值。</code></pre><p id="u4589c923" class="ne-p"><span class="ne-text">示例 2：</span></p><pre data-language="plain" id="ub1ss" class="ne-codeblock language-plain"><code>输入：
fn = function sum(a, b, c) { return a + b + c; }
inputs = [[1,2],[3]]]
输出：6
解释：
curriedSum(1, 2)(3) 应该返回像原函数 sum(1, 2, 3) 一样的值。</code></pre><p id="u2fab88ab" class="ne-p"><span class="ne-text">示例 3：</span></p><pre data-language="plain" id="Zqz0L" class="ne-codeblock language-plain"><code>输入：
fn = function sum(a, b, c) { return a + b + c; }
inputs = [[],[],[1,2,3]]
输出：6
解释：
你应该能够以任何方式传递参数，包括一次性传递所有参数或完全不传递参数。
curriedSum()()(1, 2, 3) 应该返回像原函数 sum(1, 2, 3) 一样的值。</code></pre><p id="u34389e8d" class="ne-p"><span class="ne-text">示例 4：</span></p><pre data-language="plain" id="PYUUN" class="ne-codeblock language-plain"><code>输入：
fn = function life() { return 42; }
inputs = [[]]
输出：42
解释：
柯里化一个没有接收参数，没做有效操作的函数。
curriedLife() === 42</code></pre></details>


