[2797. 带有占位符的部分函数 - 力扣（LeetCode）](https://leetcode.cn/problems/partial-function-with-placeholders/)



<h2 id="EC1bC">题目描述</h2>
给定函数 `fn` 和数组 `args`，返回一个函数 `partialFn`。

`args` 中的占位符 `"_"` 需要用 `restArgs` 中索引从 `0` 开始的值替换。 `restArgs` 中剩余的值则添加到 `args` 的末尾。

`partialFn` 应该返回 `fn` 的结果。`fn` 应该使用修改后的 `args` 的元素作为单独的参数调用。



```javascript
/**
 * @param {Function} fn
 * @param {Array} args
 * @return {Function}
 */
var partial = function (fn, args) {

  return function (...restArgs) {
    let restIdx = 0;
    const allArgs = args.map(x => {
      if (x === '_') {
        return restArgs[restIdx++]; // shift() 也行，但性能略差 O(n) 
      }

      return x;
    })

    if (restArgs.length > 0) {
      allArgs.push(...restArgs.slice(restIdx));
    }

    return fn(...allArgs);
  }
};
```



<details class="lake-collapse"><summary id="uadd10fc9"><strong><em><span class="ne-text">输入输出示例</span></em></strong></summary><p id="ud86df498" class="ne-p"><span class="ne-text">示例 1：</span></p><pre data-language="plain" id="u1euH" class="ne-codeblock language-plain"><code>输入：fn = (...args) =&gt; args, args = [2,4,6], restArgs = [8,10]
输出：[2,4,6,8,10]
解释：
const partialFn = partial(fn, args)
const result = partialFn(...restArgs) 
console.log(result) // [2,4,6,8,10]

args 中没有占位符 &quot;_&quot;，因此 restArgs 只是添加到 args 的末尾。然后将 args 的元素作为单独的参数传递给 fn，fn 返回传递的参数作为数组。</code></pre><p id="u03e7512c" class="ne-p"><span class="ne-text">示例 2：</span></p><pre data-language="plain" id="V5VEX" class="ne-codeblock language-plain"><code>输入：fn = (...args) =&gt; args, args = [1,2,&quot;_&quot;,4,&quot;_&quot;,6], restArgs = [3,5]
输出：[1,2,3,4,5,6]
解释：
const partialFn = partial(fn, args) 
const result = partialFn(...restArgs) 
console.log(result) // [1,2,3,4,5,6] 

占位符 &quot;_&quot; 被 restArgs 中的值替换。然后将 args 的元素作为单独的参数传递给 fn，fn 返回传递的参数作为数组。</code></pre><p id="u09b35b74" class="ne-p"><span class="ne-text">示例 3：</span></p><pre data-language="plain" id="PfZlV" class="ne-codeblock language-plain"><code>输入：fn = (a, b, c) =&gt; b + a - c, args = [&quot;_&quot;, 5], restArgs = [5, 20]
输出：-10
解释：
const partialFn = partial(fn, args)
const result = partialFn(...restArgs)
console.log(result) // -10

占位符 &quot;_&quot; 被替换为 5，并将 20 添加到 args 的末尾。然后将 args 的元素作为单独的参数传递给 fn，fn 返回 -10（5 + 5 - 20）。</code></pre></details>
